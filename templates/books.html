{% extends "_base.html" %}
{% load static %}
{% load i18n %}

{% block pagetitle %}{% translate "Book" %}s{% endblock %}

{% block pagelevelcss %}
        <link href="{% static "assets/plugins/custom/datatables/datatables.bundle.css" %}" rel="stylesheet" type="text/css" />
{% endblock %}

{% block pagelevelplugins %}
        <script src="{% static "assets/plugins/custom/datatables/datatables.bundle.js" %}" type="text/javascript"></script>
{% endblock %}

{% block menu_books %}kt-menu__item--active{% endblock %}

{% block corpsdepage %}
    <div class="kt-portlet">
        <div class="kt-portlet__head">
            <div class="kt-portlet__head-label">
                <span class="kt-portlet__head-icon">
                    <i class="fa fa-book"></i>
                </span>
                <h3 class="kt-portlet__head-title">
                    {% translate "Book" %}s
                </h3>
            </div>
        </div>
        <div class="kt-portlet__body">
            <table class="table table-bordered table-hover table-sm" id="books">
                <thead class="thead-dark">
                    <tr>
                        <th class="kt-font-light">{% translate "Book" %}</th>
                        <th class="kt-font-light">{% translate "Location" %}</th>
                        <th class="kt-font-light">{% translate "NPC" %}</th>
                        <th class="kt-font-light">{% translate "Reputation" %}</th>
                        <th class="kt-font-light">{% translate "Reputation value" %}</th>
                        <th class="kt-font-light">{% translate "Price" %}</th>
                        <th class="kt-font-light">{% translate "Count" %}</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
        </div>
    </div>
{% endblock %}

{% block js %}
<script>
    $(document).ready(function() {

        const oTable = $('#books').DataTable( {
            "processing": true,
            "serverSide": true,
            "paging":   false,
            "info":     false,
            "ajax": "{% url 'books_ws' %}",
            "columnDefs": [
                {
                    orderable:true,
                    "targets":[0,1,2,3,4,5,6]
                },
                {
                    searchable:true,
                    "targets":[0,1,2,3,4,5,6]
                }
            ],
            "order": [[0, 'asc']],
        } );

    });
</script>
{% endblock %}
